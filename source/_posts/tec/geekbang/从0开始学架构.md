---
title: 从 0 开始学架构
tags:
  - 极客时间笔记
date: 2019-09-19
---

> 本文总结自极客时间专栏，[从 0 开始学架构](https://time.geekbang.org/column/intro/81)，持续更新

## 支持原版

![海报](https://sherlockblaze.com/resources/img/time-geekbang/从0开始学架构/海报.jpg)

## 架构设计

架构设计相关的特性：

1. 架构设计的思维和程序设计的思维差异很大。**架构设计的关键思维是判断和取舍，程序设计的关键思维是逻辑和实现。**
2. 架构设计没有体系化的培训和训练机制
3. 程序员对架构设计的理解存在误区

## 学习目标

学习一套方法论，在有了这套方法论后，在做架构设计的时候可以游刃有余，不管什么样的业务，不管什么样的技术，按照这套方法论都能够设计出优秀的架构。

- **架构基础**：学习架构设计的本质、历史背景和目的，然后从复杂度来源以及架构设计的原则和流程来详细介绍架构基础
- **高性能架构模式**：从存储高性能、计算高性能方面，介绍几种设计方案的典型特征和应用场景
- **高可用架构模式**：CAP 原理、FMEA 分析方法，分析常见的高可用存储架构和高可用计算架构，并给出一些设计方法和技巧
- **架构实战**：理论与案例结合，落地架构原则、架构流程和架构模式

**效果**

- 清楚地理解架构设计相关概念、本质、目的
- 掌握通用的架构设计原则
- 掌握标准的架构设计流程
- 深入理解已有的架构模式
- 掌握架构演进和开源系统使用的一些技巧

## 基础架构

### 架构到底指什么？

**问题**

- 架构和框架是什么关系？有什么区别？
- Linux 有架构，MySQL 有架构，JVM 也有架构，使用 Java 开发、MySQL 存储、跑在 Linux 上的业务系统也有架构，应该关注哪个架构呢？
- 微信有架构，微信的登录系统也有架构，微信的支付系统也有架构，当谈微信架构时，到底是在谈什么架构？

#### 系统与子系统

> 系统泛指由一群有关联的个体组成，根据某种规则运作，能完成个别元件不能单独完成的工作的群体。它的意思是“总体”“整体”或“联盟”

**关键字**

1. **关联**：系统是由一群有关联的个体组成，没有关联的个体堆在一起不能成为一个系统
2. **规则**：系统内的个体需要按照指定的规则运作，而不是单个个体各自为政。**规则规定了系统内个体分工和协作的方式**
3. **能力**：系统能力与个体能力有本质的差别，系统能力不是个体能力之和，而是产生了新的能力

> 子系统也是由一群有关联的个体组成，多半会是更大系统的一部分

**例子**

1. 微信本身是一个系统，包含聊天、登录、支付、朋友圈等子系统
2. 朋友圈这个系统又包括动态、评论、点赞等子系统
3. 评论这个系统可能又包括防刷子系统、审核子系统、发布子系统、存储子系统
4. 评论审核子系统不再包含业务意义上的子系统，而是包括各个模块或者组件，这些模块或者组件本身也是另一个维度上的系统。

#### 模块与组件

> 软件模块（Module）是一套一致而互相有紧密关连的软件组织。它分别包含了程序和数据结构两个部分。现代软件开发往往利用模块作为合成的单位。模块的接口表达了由该模块提供的功能和调用它时所需的元素。模块是可能分开被编写的单位。
> 这使它们可在用和允许人员同时协作、编写及研究不同的模块

> 软件组件定义为自包含的、可编程的、可重用的、与语言无关的软件单元，软件组件可以很容易被用于组装应用程序中

**模块和组件都是系统的组成部分，只是从不同的角度拆分系统而已。**

从逻辑角度来拆分系统，得到的就是“模块”；从物理角度来拆分系统后，得到的单元就是“组件”。

假设一个学生信息管理系统，从逻辑角度拆分，可以分为“登录注册模块”“个人信息模块”“个人成绩模块”；从物理角度来拆分，可以拆分为 Nginx、Web 服务器、MySQL

#### 框架与架构

> 软件框架（Software Framework）通常指的是为了实现某个业界标准或完成特定基本任务的软件组件规范，也指为了实现某个软件组件规范时，提供规范所要求之基础功能的软件产品。

**关键**

1. 框架是组件规范
2. 框架是提供基础功能的产品

> 软件架构指软件系统的“基础结构”，创造这些基础结构的准则，以及对这些结构的描述

**框架关注的是“规范”，架构关注的“结构”**

#### 重新定义架构

**软件架构指软件系统的顶层结构**

首先，“系统是一群关联个体组成”，这些“个体”可以是“子系统”“模块”“组件”等；架构需要明确系统包含哪些“个体”。

其次，系统中的个体需要“根据某种规则”运作，架构需要明确个体运作和协作的规则

**架构是顶层设计；架构是面向编程或配置的半成品；组件是从技术维度上的复用；模块是从业务维度上职责的划分；系统是相互协同可运行的实体。**